<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISweep Preferences</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ISweep Settings</h1>
            <p>Configure your content filtering preferences</p>
        </header>

        <main>
            <section class="settings-group">
                <h2>Filter Categories</h2>

                <!-- Category tabs -->
                <div class="category-tabs">
                    <button class="tab-btn active" data-category="language">üí¨ Language</button>
                    <button class="tab-btn" data-category="violence">‚öîÔ∏è Violence</button>
                    <button class="tab-btn" data-category="sexual">üíã Sexual Content</button>
                </div>

                <!-- Language Category Panel -->
                <div class="category-panel" id="panel-language">
                    <h3>Language Filtering</h3>
                    <div class="panel-controls">
                        <div class="control-group">
                            <label for="langAction">Action</label>
                            <select id="langAction" class="action-select">
                                <option value="mute">Mute</option>
                                <option value="skip">Skip</option>
                                <option value="fast_forward">Fast Forward</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="langDuration">Duration (seconds)</label>
                            <input type="number" id="langDuration" class="duration-input" value="0.5" min="0.1" step="0.1">
                        </div>
                        <div class="control-group">
                            <label for="langCaptionOffset">Caption Offset (ms)</label>
                            <input type="number" id="langCaptionOffset" class="caption-offset-input" value="300" min="-1000" max="2000" step="50">
                            <small>Adjust timing: negative = premute, positive = delay</small>
                        </div>
                    </div>

                    <div class="preset-section">
                        <h4>Preset Packs</h4>
                        <div class="preset-list" id="langPresets">
                            <div class="preset-row">
                                <span class="preset-name">Strong Profanity</span>
                                <label class="toggle">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="preset-row">
                                <span class="preset-name">Mild Language</span>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="preset-row">
                                <span class="preset-name">Blasphemy</span>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="custom-section">
                        <h4>Custom Words</h4>
                        <div class="custom-input-row">
                            <input type="text" id="langCustomInput" class="custom-input" placeholder="Add custom word/phrase">
                            <button class="btn btn-sm btn-primary" data-category="language">+ Add</button>
                        </div>
                        <ul class="custom-list" id="langCustomList"></ul>
                    </div>
                </div>

                <!-- Violence Category Panel -->
                <div class="category-panel" id="panel-violence" style="display:none;">
                    <h3>Violence Filtering</h3>
                    <div class="panel-controls">
                        <div class="control-group">
                            <label for="violenceAction">Action</label>
                            <select id="violenceAction" class="action-select">
                                <option value="mute">Mute</option>
                                <option value="skip">Skip</option>
                                <option value="fast_forward">Fast Forward</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="violenceDuration">Duration (seconds)</label>
                            <input type="number" id="violenceDuration" class="duration-input" value="10" min="0" step="0.5">
                        </div>
                        <div class="control-group">
                            <label for="violenceCaptionOffset">Caption Offset (ms)</label>
                            <input type="number" id="violenceCaptionOffset" class="caption-offset-input" value="300" min="-1000" max="2000" step="50">
                            <small>Adjust timing: negative = premute, positive = delay</small>
                        </div>
                    </div>

                    <div class="preset-section">
                        <h4>Preset Packs</h4>
                        <div class="preset-list" id="violencePresets">
                            <div class="preset-row">
                                <span class="preset-name">Graphic Violence</span>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="custom-section">
                        <h4>Custom Words/Phrases</h4>
                        <p class="help-text">Add words or phrases related to violence you want to filter</p>
                        <div class="custom-input-row">
                            <input type="text" id="violenceCustomInput" class="custom-input" placeholder="e.g., fight, attack">
                            <button class="btn btn-sm btn-primary" data-category="violence">+ Add</button>
                        </div>
                        <ul class="custom-list" id="violenceCustomList"></ul>
                    </div>
                </div>

                <!-- Sexual Content Category Panel -->
                <div class="category-panel" id="panel-sexual" style="display:none;">
                    <h3>Sexual Content Filtering</h3>
                    <div class="panel-controls">
                        <div class="control-group">
                            <label for="sexualAction">Action</label>
                            <select id="sexualAction" class="action-select">
                                <option value="mute">Mute</option>
                                <option value="skip">Skip</option>
                                <option value="fast_forward">Fast Forward</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="sexualDuration">Duration (seconds)</label>
                            <input type="number" id="sexualDuration" class="duration-input" value="30" min="0" step="0.5">
                        </div>
                        <div class="control-group">
                            <label for="sexualCaptionOffset">Caption Offset (ms)</label>
                            <input type="number" id="sexualCaptionOffset" class="caption-offset-input" value="300" min="-1000" max="2000" step="50">
                            <small>Adjust timing: negative = premute, positive = delay</small>
                        </div>
                    </div>

                    <div class="preset-section">
                        <h4>Preset Packs</h4>
                        <div class="preset-list" id="sexualPresets">
                            <div class="preset-row">
                                <span class="preset-name">Explicit Terms</span>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="preset-row">
                                <span class="preset-name">Intimate Acts</span>
                                <label class="toggle">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="custom-section">
                        <h4>Custom Words/Phrases</h4>
                        <p class="help-text">Add words or phrases related to sexual content you want to filter</p>
                        <div class="custom-input-row">
                            <input type="text" id="sexualCustomInput" class="custom-input" placeholder="Add custom word/phrase">
                            <button class="btn btn-sm btn-primary" data-category="sexual">+ Add</button>
                        </div>
                        <ul class="custom-list" id="sexualCustomList"></ul>
                    </div>
                </div>

                <div class="summary-section">
                    <h3>Summary</h3>
                    <div class="summary-content">
                        <div class="summary-item">
                            <span class="summary-label">Total effective words:</span>
                            <span id="effectiveCount" class="summary-value">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Preview (first 10):</span>
                            <div id="effectivePreview" class="preview-tags"></div>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Last saved:</span>
                            <span id="lastSavedTime" class="summary-value">Never</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="button-group">
                <button id="saveButton" class="btn btn-primary">Save Settings</button>
                <button id="resetButton" class="btn btn-secondary">Reset to Defaults</button>
            </section>

            <div id="statusMessage" class="status-message" style="display: none;"></div>
        </main>

        <footer>
            <p>Settings are saved automatically and synced across all tabs</p>
        </footer>
    </div>

    <script type="module" src="options.js"></script>
</body>
</html>
