<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISweep</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="shell">
        <header class="top">
            <div class="title">
                <div class="dot"></div>
                <div>
                    <h1>ISweep</h1>
                    <p>Content Filter</p>
                </div>
            </div>
            <div class="pill" id="statusIndicator">
                <span class="dot tiny inactive"></span>
                <span id="statusText">Inactive</span>
            </div>
        </header>

        <main class="card">
            <section class="grid-2">
                <div class="field">
                    <label for="userIdInput">User ID</label>
                    <input 
                        type="text" 
                        id="userIdInput" 
                        placeholder="user123"
                        maxlength="50"
                    >
                </div>
                <div class="field">
                    <label for="backendUrl">Backend URL</label>
                    <input 
                        type="text" 
                        id="backendUrl" 
                        placeholder="http://127.0.0.1:8001"
                    >
                    <div id="backendUrlError" class="error"></div>
                </div>
            </section>

            <section class="actions-row">
                <button id="toggleButton" class="btn primary">Enable ISweep</button>
            </section>

            <section class="asr-card">
                <div class="asr-row">
                    <div class="label">ASR</div>
                    <div class="status-line">
                        <span id="asrStatusText">Starting…</span>
                        <span id="asrMetrics" class="muted"></span>
                    </div>
                </div>
            </section>

            <section class="stats">
                <div class="stat">
                    <div class="k">Videos Detected</div>
                    <div class="v" id="videosDetected">0</div>
                </div>
                <div class="stat">
                    <div class="k">Actions Applied</div>
                    <div class="v" id="actionsApplied">0</div>
                </div>
            </section>

            <section class="footer-links">
                <button id="openPreferences" class="btn ghost" type="button">⚙️ Preferences</button>
                <button id="clearStats" class="btn ghost" type="button">Clear Stats</button>
            </section>
        </main>

        <footer class="foot">
            <p class="version">v0.1.0</p>
        </footer>
    </div>

    <script src="popup.js" defer></script>
</body>
</html>
